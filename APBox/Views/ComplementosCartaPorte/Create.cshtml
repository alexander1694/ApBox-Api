@model API.Operaciones.ComplementoCartaPorte.ComplementoCartaPorte

@{
    ViewBag.Title = "Crear";
}
@Html.Partial("_ComplementoCartaPorteScript")
@Html.Partial("_Modal")

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.HiddenFor(model => model.Status)
    @Html.HiddenFor(model => model.Generado)
    @Html.HiddenFor(model => model.SucursalId)
    @Html.HiddenFor(model => model.IDCliente)
    @Html.HiddenFor(model => model.ExportacionId)

    @Html.ValidationSummary(true, "", new { @class = "label-blue-alt" })
    {

        string activaCampos = "hidden";
        string ActCampTransInterc = "hidden";
        string ActCamposMatPeligroso = "hidden";
        string ActTransporte = "hidden";
        string ActTransporteMaritimo = "hidden";
        string ActTransporteAereo = "hidden";
        string ActTransporteFerroviario = "hidden";
        string ActDimension = "hidden";
        string ActParteTransporte = "hidden";
        string ActCampoUbicacionExtranjero = "hidden";
        string ActFormPedimento = "hidden";
        string ActFormCantidadTransportada = "hidden";
        string ActFracArancelaria = "hidden";
        string ActPesoMercancia = "hidden";
        string ActvCargoTasacion = "hidden";
        string ActNumEstacion = "hidden";


        if (Model.hidden)
        {
            activaCampos = "visible";
        }
        else
        {
            activaCampos = "hidden";
        }
        if (Model.TranspInternac) { ActCampTransInterc = "visible"; } else { ActCampTransInterc = "hidden"; }
        if (Model.Mercancias.Mercancia.MaterialPeligrosos) { ActCamposMatPeligroso = "visible"; } else { ActCamposMatPeligroso = "hidden"; }
        if (Model.ClaveTransporteId == "01") { ActTransporte = "visible"; } else { ActTransporte = "hidden"; }
        if (Model.ClaveTransporteId == "02") { ActTransporteMaritimo = "visible"; } else { ActTransporteMaritimo = "hidden"; }
        if (Model.ClaveTransporteId == "03") { ActTransporteAereo = "visible"; } else { ActTransporteAereo = "hidden"; }
        if (Model.ClaveTransporteId == "04") { ActTransporteFerroviario = "visible"; } else { ActTransporteFerroviario = "hidden"; }
        if (Model.ClaveTransporteId == "02") { ActDimension = "visible"; } else { ActDimension = "hidden"; }
        if (Model.TiposFigura.FiguraTransporte == "02" || Model.TiposFigura.FiguraTransporte == "03") { ActParteTransporte = "visible"; } else { ActParteTransporte = "hidden"; }
        if (Model.Ubicacion.RfcRemitenteDestinatario == "XEXX010101000") { ActCampoUbicacionExtranjero = "visible"; } else { ActCampoUbicacionExtranjero = "hidden"; }
        if ((Model.ClaveTransporteId == "01" && Model.TranspInternac) || (Model.ClaveTransporteId == "03" && Model.TranspInternac)) { ActFormPedimento = "visible"; } else { ActFormPedimento = "hidden"; }
        if ((Model.ClaveTransporteId == "01" && Model.TranspInternac) || (Model.ClaveTransporteId == "04" && Model.TranspInternac) || (Model.ClaveTransporteId == "04" && !Model.TranspInternac)) { ActFormCantidadTransportada = "visible"; } else { ActFormCantidadTransportada = "hidden"; }
        if (Model.ClaveTransporteId == "01" && Model.TranspInternac) { ActFracArancelaria = "visible"; } else { ActFracArancelaria = "hidden"; }
        if (Model.ClaveTransporteId == "02" || Model.ClaveTransporteId == "04") { ActPesoMercancia = "visible"; } else { ActPesoMercancia = "hidden"; }
        if (Model.ClaveTransporteId == "03") { ActvCargoTasacion = "visible"; } else { ActvCargoTasacion = "hidden"; }
        if (Model.ClaveTransporteId != "01") { ActNumEstacion = "visible"; } else { ActNumEstacion = "hidden"; }

    }

    <!--begin::Stepper-->
    <div class="stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid gap-10" id="kt_stepper_example_vertical" data-kt-stepper="true">
        <!--begin::Aside-->
        <div class="card d-flex justify-content-center justify-content-xl-start flex-row-auto w-100 w-xl-300px w-xxl-400px">
            
            <!--begin::Wrapper-->
            <div class="card-body px-6 px-lg-10 px-xxl-15 py-20">
                <!--begin::Nav-->
                <div class="stepper-nav">
                    <!--begin::Step 1-->
                    <div class="stepper-item current" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">1</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Comprobante
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 1-->
                    <!--begin::Step 2-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">2</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Receptor
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 2-->
                    <!--begin::Step 3-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">3</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    CFDI Relacionado
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 3-->
                    <!--begin::Step 4-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">4</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Conceptos
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 4-->
                    <!--begin::Step 5-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">5</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Carta Porte
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 5-->
                    <!--begin::Step 6-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">6</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Ubicaciones
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 6-->
                    <!--begin::Step 7-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">7</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Mercancías
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 7-->
                    <!--begin::Step 8-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">8</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Transporte
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 8-->
                    <!--begin::Step 9-->
                    <div class="stepper-item pending" data-kt-stepper-element="nav">
                        <!--begin::Wrapper-->
                        <div class="stepper-wrapper">
                            <!--begin::Icon-->
                            <div class="stepper-icon w-40px h-40px">
                                <i class="stepper-check fas fa-check"></i>
                                <span class="stepper-number">9</span>
                            </div>
                            <!--end::Icon-->
                            <!--begin::Label-->
                            <div class="stepper-label">
                                <h3 class="stepper-title">
                                    Figura Transporte
                                </h3>

                                <div class="stepper-desc fw-semibold">
                                    Description
                                </div>
                            </div>
                            <!--end::Label-->
                        </div>
                        <!--end::Wrapper-->
                        <!--begin::Line-->
                        <div class="stepper-line h-40px"></div>
                        <!--end::Line-->
                    </div>
                    <!--end::Step 9-->
                </div>
                <!--end::Nav-->
            </div>
            <!--end::Wrapper-->
        </div>

        <!--begin::Content-->
        <div class="card d-flex flex-row-fluid flex-center">
            <!--begin::Form-->
            <div class="form card-body py-20 w-100 mw-xl-1000px px-9 fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate" id="kt_create_account_form">
                
                <!--begin::Wrapper-->
                <div class="w-100">
                    <!--begin::Heading-->
                    <div class="pb-10 pb-lg-15">
                        <!--begin::Step 1-->
                        <div class="current" data-kt-stepper-element="content">
                            <!--begin::Input group-->
                            <div class="fv-row mb-10">
                                <!--begin:: comprobante-->
                                <div class="row">
                                    <h3 class="title-hero">
                                        Información de la Sección de Comprobante
                                    </h3>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Version, htmlAttributes: new { @class = "form-label", })
                                            @Html.EditorFor(model => model.Version, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                            @Html.ValidationMessageFor(model => model.Version, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.FechaDocumento, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.FechaDocumento, new { htmlAttributes = new { @class = "form-control mb-2 date" } })
                                            @Html.ValidationMessageFor(model => model.FechaDocumento, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Hora, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Hora, new { htmlAttributes = new { @class = "form-control mb-2 time" } })
                                            @Html.ValidationMessageFor(model => model.Hora, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.TipoDeComprobante, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownList("TipoDecomprobante", null, "Seleccionar..", new { @class = "form-select mb-2", @id = "tipoComprobante" })
                                            @Html.ValidationMessageFor(model => model.TipoDeComprobante, "Comprobante no puede ir vacío", new { @class = "text-danger" })

                                        </div>

                                    </div>

                                    <div id="validaTipoComprobante">
                                        <div class="row">
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.FormaPago, htmlAttributes: new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.FormaPago, (IEnumerable<SelectListItem>)ViewBag.FormaPAgo, "Favor de hacer su selección", new { @class = "form-select mb-2", @data_control = "select2" })
                                                @Html.ValidationMessageFor(model => model.FormaPago, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.MetodoPago, htmlAttributes: new { @class = "form-label" })
                                                @Html.EnumDropDownListSpecialFor(model => model.MetodoPago)
                                                @Html.ValidationMessageFor(model => model.MetodoPago, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.TipoCambio, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.TipoCambio, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.TipoCambio, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.CondicionesPago, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.CondicionesPago, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.CondicionesPago, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4" id="moneda">
                                                @Html.LabelFor(model => model.Moneda, htmlAttributes: new { @class = "form-label" })
                                                @Html.EnumDropDownListSpecialFor(model => model.Moneda)
                                                @Html.ValidationMessageFor(model => model.Moneda, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="row">
                                            <i class="col-xs-12">Al agregar los conceptos, estos valores se actualizaran en automático</i>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Subtotal, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Subtotal, new { htmlAttributes = new { @class = "form-control mb-2", @id = "subtotal", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.Subtotal, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Total, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Total, new { htmlAttributes = new { @class = "form-control mb-2", @id = "total", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.Total, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end:: comprobante-->
                            </div>
                            <!--end::Input group-->
                        </div>
                        <!--end::Step 1-->
                    </div>
                    <!--end::Wrapper-->
                </div>
                <!--begin::Step 2-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <!--begin::Receptor-->
                        <h3 class="title-hero">
                            Sección Receptor
                        </h3>
                        <div class="row" id="receptorDrop">
                            <i class="col-xs-12 InformacionReceptor"></i>
                            <div class="form-group col-xs-12 col-sm-6 col-md-5">
                                @Html.LabelFor(model => model.ReceptorId, htmlAttributes: new { @class = "form-label" })
                                @Html.DropDownList("ReceptorId", null, "Favor de hacer su selección", new { @class = "form-select mb-2", @data_control = "select2" })
                                @*@Html.DropDownListFor(model => model.ReceptorId, (IEnumerable<SelectListItem>)ViewBag.ReceptorId, "Favor de hacer su selección", new { @class = "form-control"})*@
                                @Html.ValidationMessageFor(model => model.ReceptorId, "", new { @class = "text-danger" })

                            </div>
                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                @Html.LabelFor(model => model.UsoCfdiCP, htmlAttributes: new { @class = "form-label" })
                                @* @Html.DropDownList("UsoCfdi", null, "Favor de hacer su selección", new { @class = "form-control" })*@
                                @Html.EnumDropDownListSpecialFor(model => model.UsoCfdiCP)
                                @Html.ValidationMessageFor(model => model.UsoCfdiCP, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="row" id="receptorText">
                            <i class=" col-xs-12 InformacionReceptor"></i>
                            <div class="form-group col-xs-12 col-sm-6 col-md-5">
                                <p>Receptor</p>
                                <p id="recep"></p>
                                @Html.HiddenFor(model => model.ReceptorId)
                            </div>
                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                <p>Uso Cfdi</p>
                                <p id="usoCfdiCP"></p>
                                @Html.HiddenFor(model => model.UsoCfdiCP)
                            </div>
                        </div>
                        <!--end::Receptor-->
                    </div>
                    <!--end::Input group-->
                </div>
                <!--end::Step 2-->
                <!--begin::Step 3-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="form-group col-xs-12 col-sm-6 col-md-6">
                            <div class="checkbox">
                                <input type="checkbox" class="form-check-input cfdiRelacionado" />
                                <label class="control-label">Relacionar CFDi Cancelado</label>
                            </div>
                        </div>


                        <div class="clearfix"></div>

                        <div class="cfdiRelacionadoSeccion hiddenDiv">
                            <h3 class="title-hero">
                                CFDI Relacionado
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                    @Html.LabelFor(model => model.TipoRelacion, new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.TipoRelacion, (IEnumerable<SelectListItem>)ViewBag.tipoRelacion, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.TipoRelacion, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                    @Html.LabelFor(model => model.UUIDCfdiRelacionado, new { @class = "form-label" })
                                    @Html.EditorFor(model => model.UUIDCfdiRelacionado, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.UUIDCfdiRelacionado, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>

                        </div>
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 3-->
                <!--begin::Step 4-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="row">
                            <h3 class="title-hero col-lg-10 ">
                                Sección Conceptos
                            </h3>
                            <div class="col-lg-2">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalLong">
                                    <span class="fa fa-question-circle"></span>
                                </button>
                            </div>
                        </div>

                        <div class="card shadow-sm">
                            <div class="card-header  ">
                                <h3 class="card-title">
                                    <i class="glyph-icon icon-cog"></i>
                                    Agregar Conceptos
                                </h3>
                                <div class="card-toolbar disableConceptos">
                                    <a href="#" id="agregarDetalleConceptos">
                                        <!--begin::Svg Icon -->
                                        <span class="svg-icon svg-icon-3x">
                                            <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                        </span>
                                        <!--end::Svg Icon-->
                                    </a>
                                </div>

                            </div>
                            <div class="card-body">
                                <i class="col-xs-12">*Puedes prellenar los Conceptos seleccionandolos dese esta lista y solo modificar el importe antes de agregar</i><br />
                                <i class="col-xs-12">*Puedes administrar ese catálogo de Conceptos desde el menú de Empresa -> Conceptos</i>
                                <div class="clearfix"></div>
                                <hr />
                                <div class="row">
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.CatConcepto, htmlAttributes: new { @class = "form-label" })
                                        @Html.DropDownListFor(model => model.Conceptos.CatConcepto, (IEnumerable<SelectListItem>)ViewBag.Conceptos, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "CConcepto" })
                                        @Html.ValidationMessageFor(model => model.Conceptos.CatConcepto, "", new { @class = "text-danger" })

                                    </div>


                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.ClavesProdServ, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.ClavesProdServ, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.ClavesProdServ, "", new { @class = "text-danger" })
                                        <div id="ClaveProdServCPConceptos" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.ClavesUnidad, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.ClavesUnidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.ClavesUnidad, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.Unidad, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.Unidad, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.Unidad, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>

                                    <div class="form-group col-xs-12 col-sm-6 col-md-8">
                                        @Html.LabelFor(model => model.Conceptos.Descripcion, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.Descripcion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.Descripcion, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.NoIdentificacion, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.NoIdentificacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.NoIdentificacion, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.Cantidad, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.Cantidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.Cantidad, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.ValorUnitario, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.ValorUnitario, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.ValorUnitario, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Conceptos.Importe, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Conceptos.Importe, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                        @Html.ValidationMessageFor(model => model.Conceptos.Importe, "", new { @class = "text-danger" })
                                        <div id="ClaveUnidadConcepto" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4" id="activaObjetoImpI">
                                        @Html.LabelFor(model => model.Conceptos.ObjetoImpuesto, new { @class = "form-label" })
                                        @Html.DropDownListFor(model => model.Conceptos.ObjetoImpuesto, (IEnumerable<SelectListItem>)ViewBag.objetoImpuesto, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                        @Html.ValidationMessageFor(model => model.Conceptos.ObjetoImpuesto, "", new { @class = "text-danger" })
                                        <div id="Conceptos_ObjetoImpuesto_Error" style="color:red;"></div>

                                    </div>
                                    <div class="form-group col-xs-12 col-sm-3" id="activaObjetoImpT">
                                        <p>Objeto Impuesto</p>
                                        <p id="objetoImpuestoText"></p>
                                        @Html.HiddenFor(model => model.Conceptos.ObjetoImpuesto)
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="separator my-5"></div>

                                    <div id="activaImpuesto">

                                        <h3 class="title-hero">
                                            Subsección Impuestos : Traslado
                                        </h3>

                                        <div class="row">
                                            @Html.HiddenFor(model => model.Conceptos.Traslado.TipoImpuesto)
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.BasePorcentaje, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Traslado.BasePorcentaje, new { htmlAttributes = new { @class = "form-control mb-2", @id = "TBaseP" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.BasePorcentaje, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.Base, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Traslado.Base, new { htmlAttributes = new { @class = "form-control mb-2", @id = "TBase" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.Base, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.Impuesto, htmlAttributes: new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Conceptos.Traslado.Impuesto, (IEnumerable<SelectListItem>)ViewBag.ImpuestoSat, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.Impuesto, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.TipoFactor, htmlAttributes: new { @class = "form-label" })
                                                @Html.EnumDropDownListSpecialFor(model => model.Conceptos.Traslado.TipoFactor)
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.TipoFactor, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.TasaOCuota, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Traslado.TasaOCuota, new { htmlAttributes = new { @class = "form-control mb-2", @id = "TTasaOCuota" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.TasaOCuota, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Traslado.Importe, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Traslado.Importe, new { htmlAttributes = new { @class = "form-control mb-2", @id = "TImporte", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Traslado.Importe, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <hr />

                                        <h3 class="title-hero">
                                            Subsección Impuestos : Retencion
                                        </h3>
                                        <div class="row">
                                            @Html.HiddenFor(model => model.Conceptos.Retencion.TipoImpuesto)
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.BasePorcentaje, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Retencion.BasePorcentaje, new { htmlAttributes = new { @class = "form-control mb-2", @id = "RBaseP" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.BasePorcentaje, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.Base, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Retencion.Base, new { htmlAttributes = new { @class = "form-control mb-2", @id = "RBase" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.Base, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.Impuesto, htmlAttributes: new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Conceptos.Retencion.Impuesto, (IEnumerable<SelectListItem>)ViewBag.ImpuestoSat, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.Impuesto, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.TipoFactor, htmlAttributes: new { @class = "form-label" })
                                                @Html.EnumDropDownListSpecialFor(model => model.Conceptos.Retencion.TipoFactor)
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.TipoFactor, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.TasaOCuota, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Retencion.TasaOCuota, new { htmlAttributes = new { @class = "form-control mb-2", @id = "RTasaOCuota" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.TasaOCuota, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-2">
                                                @Html.LabelFor(model => model.Conceptos.Retencion.Importe, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Conceptos.Retencion.Importe, new { htmlAttributes = new { @class = "form-control mb-2", @id = "RImporte", @readonly = "readonly" } })
                                                @Html.ValidationMessageFor(model => model.Conceptos.Retencion.Importe, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <hr />
                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Conceptos Agregados
                                                <span class="contadorConceptos font-blue">

                                                </span>
                                            </h3>

                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesConceptos">
                                                        @if (Model.Conceptoss != null)
                                                        {
                                                            foreach (var conceptos in Model.Conceptoss)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/Conceptos.cshtml", conceptos)
                                                            }
                                                        }
                                                        <div class="separator my-5"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 4-->
                <!--begin::Step 5-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="row">
                            <h3 class="title-hero">
                                Complemento Cartaporte
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.ClaveTransporteId, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.ClaveTransporteId, (IEnumerable<SelectListItem>)ViewBag.ClavesTransporte, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "claveTransporteId" })
                                    @Html.ValidationMessageFor(model => model.ClaveTransporteId, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.TranspInternac, htmlAttributes: new { @class = "form-label" })
                                    <div class="col-md-10">
                                        <div class="checkbox">
                                            @Html.CheckBoxFor(model => model.TranspInternac, new { @class = "form-check-input ActivaCheckTransInter" })
                                            @Html.ValidationMessageFor(model => model.TranspInternac, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-3" @*hidden /*id="TotalDistRec"*@>
                                    @Html.LabelFor(model => model.TotalDistRec, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.TotalDistRec, new { htmlAttributes = new { @class = "form-control mb-2", @id = "TotalDistRecorridas", @readonly = "readonly" } })
                                    @Html.ValidationMessageFor(model => model.TotalDistRec, "", new { @class = "text-danger" })
                                </div>
                                <div class="divValidaTransInternc" @*@ActCampTransInterc*@>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 ">

                                            @Html.LabelFor(model => model.EntradaSalidaMerc, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.EntradaSalidaMerc, (IEnumerable<SelectListItem>)ViewBag.EntradaSMercancia, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.EntradaSalidaMerc, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.PaisOrigendestino, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.PaisOrigendestino, (IEnumerable<SelectListItem>)ViewBag.Paises, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.PaisOrigendestino, "", new { @class = "text-danger" })
                                            <div id="UPais" style="color:red;"></div>
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.viaEntradaSalida, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.viaEntradaSalida, (IEnumerable<SelectListItem>)ViewBag.ClavesTransporte, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "ClaveTransporteCP" })
                                            @Html.ValidationMessageFor(model => model.viaEntradaSalida, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 5-->
                <!--begin::Step 6-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="row">

                            <h3 class="title-hero">
                                Ubicaciones
                            </h3>
                            <div class="form-group col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.Ubicacion.TipoUbicacion, htmlAttributes: new { @class = "form-label" })
                                @Html.DropDownListFor(model => model.Ubicacion.TipoUbicacion, (IEnumerable<SelectListItem>)ViewBag.TipoUbicacion, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "TipoUbicacionRD" })
                                @Html.ValidationMessageFor(model => model.Ubicacion.TipoUbicacion, "", new { @class = "text-danger" })

                            </div>
                            <br />
                            <div class="card shadow-sm">
                                <div class="card-header bg-blue">
                                    <h3 class="card-title ">
                                        Agregar Ubicacion
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleUbicacion">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>

                                </div>
                                <div class="clearfix"></div>

                                <div class="card-body">
                                    <h3 class="title-hero origenTitulo">
                                        Ubicación: Origen
                                    </h3>
                                    <h3 class="title-hero destinoTitulo" style="display:none;">
                                        Ubicación: Destino
                                    </h3>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Ubicacion.IDUbicacion, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.IDUbicacion, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.IDUbicacion, "", new { @class = "text-danger" })

                                        </div>

                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Ubicacion.RfcRemitenteDestinatario, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.RfcRemitenteDestinatario, new { htmlAttributes = new { @class = "form-control mb-2 rfc" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.RfcRemitenteDestinatario, "", new { @class = "text-danger" })
                                            <span id="Error_Ubicacion_RfcRemitenteDestinatario" style="color:red;"></span>
                                            <span id="RfcRemitente" style="color:red;"></span>
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Ubicacion.NombreRemitenteDestinatario, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.NombreRemitenteDestinatario, new { htmlAttributes = new { @class = "form-control mb-2 espacio" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NombreRemitenteDestinatario, "", new { @class = "text-danger" })
                                        </div>
                                        @*<div class="activaCamposRFCExtranjero">*@
                                        <div class="form-group col-xs-12 col-sm-4 activaCamposRFCExtranjero hiddenDiv">
                                            @Html.LabelFor(model => model.Ubicacion.NumRegIdTrib, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.NumRegIdTrib, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NumRegIdTrib, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4 activaCamposRFCExtranjero hiddenDiv">
                                            @Html.LabelFor(model => model.Ubicacion.ResidenciaFiscal, htmlAttributes: new { @class = "form-label" })
                                            @Html.EnumDropDownListSpecialFor(model => model.Ubicacion.ResidenciaFiscal)
                                            @Html.ValidationMessageFor(model => model.Ubicacion.ResidenciaFiscal, "", new { @class = "text-danger" })
                                        </div>
                                        @*</div>*@
                                        <div class="form-group col-xs-12 col-sm-4" @*@ActTransporteMaritimo*@ id="DivEstacionMaritimo">
                                            @Html.LabelFor(model => model.Ubicacion.NombreEstacion, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownList("NombreEstacionMaritimo", null, "Favor de hacer su selección", new { @class = "form-select mb-2 NombreEstacion" })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NombreEstacion, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4" @*@ActTransporteAereo*@ id="DivEstacionAereo">
                                            @Html.LabelFor(model => model.Ubicacion.NombreEstacion, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownList("NombreEstacionAereo", null, "Favor de hacer su selección", new { @class = "form-select mb-2 NombreEstacion" })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NombreEstacion, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4" @*@ActTransporteFerroviario*@ id="DivEstacionFerroviario">
                                            @Html.LabelFor(model => model.Ubicacion.NombreEstacion, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownList("NombreEstacionFerroviario", null, "Favor de hacer su selección", new { @class = "form-select mb-2 NombreEstacion" })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NombreEstacion, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4" id="DivNumEstacion" @*@ActNumEstacion*@>
                                            @Html.LabelFor(model => model.Ubicacion.NumEstacion, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.NumEstacion, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly", @id = "NumEstacion" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NumEstacion, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4" id="DivNavegacionTrafico" @*@ActDimension*@>
                                            @Html.LabelFor(model => model.Ubicacion.NavegacionTrafico, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.Ubicacion.NavegacionTrafico, (IEnumerable<SelectListItem>)ViewBag.TipoNavegacionTrafico, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.NavegacionTrafico, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Ubicacion.FechaHoraSalidaLlegada, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.FechaHoraSalidaLlegada, new { htmlAttributes = new { @class = "form-control mb-2 datetimepicker" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.FechaHoraSalidaLlegada, "", new { @class = "text-danger" })
                                            <div id="FechaHoraSalida" style="color:red;"></div>
                                        </div>
                                        @*<div class="activaTipoEstacion">*@
                                        <div class=" form-group col-xs-12 col-sm-4 activaTipoEstacion">
                                            @Html.LabelFor(model => model.Ubicacion.TipoEstacion_Id, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownList("TipoEstacion", null, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "UTipoEstacion" })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.TipoEstacion_Id, "", new { @class = "text-danger" })
                                        </div>
                                        @*</div>*@
                                        <div class="form-group col-xs-12 col-sm-4 hiddenDiv activaDR" @*@hidden*@>
                                            @Html.LabelFor(model => model.Ubicacion.DistanciaRecorrida, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Ubicacion.DistanciaRecorrida, new { htmlAttributes = new { @class = "form-control mb-2", @id = "DistanciaRO" } })
                                            @Html.ValidationMessageFor(model => model.Ubicacion.DistanciaRecorrida, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>


                                    <h3 class="title-hero origenDomicilio">
                                        Ubicación Origen : Domicilio
                                    </h3>
                                    <h3 class="title-hero hiddenDiv destinoDomicilio">
                                        Ubicación Destino : Domicilio
                                    </h3>
                                    @Html.Partial("~/Views/ComplementosCartaporte/Domicilio.cshtml", Model.Ubicacion.Domicilio, new ViewDataDictionary(ViewData) { TemplateInfo = new TemplateInfo { HtmlFieldPrefix = "Ubicacion.Domicilio" } })
                                    <div class="clearfix"></div>
                                    <hr />
                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Ubicaciones Agregadas
                                                <span class="contadorUbicaciones font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detalleUbicaciones">
                                                        @if (Model.Ubicaciones != null)
                                                        {
                                                            foreach (var ubicacion in Model.Ubicaciones)
                                                            {

                                                                @Html.Partial("~/Views/ComplementosCartaPorte/Ubicacion.cshtml", ubicacion)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 6-->
                <!--begin::Step 7-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="row">
                            <h3 class="title-hero">
                                Mercancías
                            </h3>
                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                @Html.LabelFor(model => model.Mercancias.PesoBrutoTotal, htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Mercancias.PesoBrutoTotal, new { htmlAttributes = new { @class = "form-control mb-2 pesoBrutoTotalD" } })
                                @Html.ValidationMessageFor(model => model.Mercancias.PesoBrutoTotal, "", new { @class = "text-danger" })
                            </div>
                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                @Html.LabelFor(model => model.Mercancias.ClaveUnidadPeso_Id, htmlAttributes: new { @class = "form-label" })
                                @Html.DropDownListFor(model => model.Mercancias.ClaveUnidadPeso_Id, (IEnumerable<SelectListItem>)ViewBag.ClavesUnidadPeso, "Favor de hacer su selección", new { @class = "form-select" })
                                @Html.ValidationMessageFor(model => model.Mercancias.ClaveUnidadPeso_Id, "", new { @class = "text-danger" })
                            </div>

                            <div class="form-group col-xs-12 col-sm-6 col-md-4 hiddenDiv" id="activaMercPeso">
                                @Html.LabelFor(model => model.Mercancias.PesoNetoTotal, htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Mercancias.PesoNetoTotal, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.Mercancias.PesoNetoTotal, "", new { @class = "text-danger" })
                            </div>

                            <div class="form-group col-xs-12 col-sm-6 col-md-4 hiddenDiv" id="DivCargoTasacion">
                                @Html.LabelFor(model => model.Mercancias.CargoPorTasacion, htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Mercancias.CargoPorTasacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                @Html.ValidationMessageFor(model => model.Mercancias.CargoPorTasacion, "", new { @class = "text-danger" })
                            </div>

                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                @Html.LabelFor(model => model.Mercancias.NumTotalMercancias, htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Mercancias.NumTotalMercancias, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                @Html.ValidationMessageFor(model => model.Mercancias.NumTotalMercancias, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="row">
                            <h3 class="title-hero">
                                Mercancía
                            </h3>
                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        Agregar Mercancía
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleMercancia">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                @*NECESITA UN DROPDOW PARA CLAVEPRODSERVCP Y CLAVEPRODSTCC*@
                                <!--<div class="row">-->
                                <div class="card-body">
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.ClaveProdServCP, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.ClaveProdServCP, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.ClaveProdServCP, "", new { @class = "text-danger" })
                                            <div id="ClaveProdServID" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.Descripcion, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.Descripcion, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Descripcion, "", new { @class = "text-danger" })
                                            <div id="Descripcion" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.Cantidad, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.Cantidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Cantidad, "", new { @class = "text-danger" })
                                            <div id="Cantidad" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 hiddenDiv activaClaveSTCC">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.ClaveProdSTCC, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.ClaveProdSTCC, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.ClaveProdSTCC, "", new { @class = "text-danger" })
                                            <div id="ClaveProdSTCC" style="color:red;"></div>
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.ClavesUnidad, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.ClavesUnidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.ClavesUnidad, "", new { @class = "text-danger" })
                                            <div id="ClaveUnidadId" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.Unidad, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.Unidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Unidad, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 hiddenDiv" id="ActivaDimensiones">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.Dimensiones, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.Dimensiones, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Dimensiones, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.MaterialPeligrosos, htmlAttributes: new { @class = "form-label" })
                                            <div class="col-md-10">
                                                <div class="checkbox">
                                                    @Html.CheckBoxFor(model => model.Mercancias.Mercancia.MaterialPeligrosos, new { @class = "form-check-input" })
                                                    @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.MaterialPeligrosos, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>

                                        @*<div class="ActivaCampoMatPeligroso">*@
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 ActivaCampoMatPeligroso hiddenDiv">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.ClaveMaterialPeligroso, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.ClaveMaterialPeligroso, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.ClaveMaterialPeligroso, "", new { @class = "text-danger" })
                                            <div id="ClaveMatPeligroso" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 ActivaCampoMatPeligroso hiddenDiv">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.DescripEmbalaje, htmlAttributes: new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.Mercancias.Mercancia.DescripEmbalaje, (IEnumerable<SelectListItem>)ViewBag.TiposEmbalaje, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DescripEmbalaje, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 ActivaCampoMatPeligroso hiddenDiv">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.TipoEmbalaje_Id, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.TipoEmbalaje_Id, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.TipoEmbalaje_Id, "", new { @class = "text-danger" })
                                        </div>

                                        @*</div>*@
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.PesoEnKg, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.PesoEnKg, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.PesoEnKg, "", new { @class = "text-danger" })
                                            <div id="PesoEnKg" style="color:red;"></div>
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.ValorMercancia, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.ValorMercancia, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.ValorMercancia, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.Moneda, htmlAttributes: new { @class = "form-label" })
                                            @Html.EnumDropDownListSpecialFor(model => model.Mercancias.Mercancia.Moneda)
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Moneda, "", new { @class = "text-danger" })
                                        </div>
                                        @*<div @ActFracArancelaria id="activaFraccionArancelaria">*@
                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 activaFraccionArancelaria hiddenDiv">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.FraccionArancelarias, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.FraccionArancelarias, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.FraccionArancelarias, "", new { @class = "text-danger" })
                                            <div id="ClaveFraccionArancelaria" style="color:red;"></div>
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-6 col-md-4 activaFraccionArancelaria hiddenDiv">
                                            @Html.LabelFor(model => model.Mercancias.Mercancia.UUIDComecioExt, htmlAttributes: new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.Mercancia.UUIDComecioExt, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.UUIDComecioExt, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <br />
                                    @*  CHECKBOX PEDIMENTO*@
                                    <div class="form-group col-xs-12 col-sm-6 col-md-3">
                                        <div class="checkbox">
                                            <input type="checkbox" class="form-check-input addPedimento" />
                                            <label class="form-label">Pedimento</label>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>


                                    <div class="card shadow-sm hiddenDiv DivPedimento">

                                        <div class="card-header">
                                            <h3 class="card-title">
                                                Agregar Pedimentos
                                            </h3>
                                            <div class="card-toolbar">
                                                <a href="#" class="icon-separator" id="agregarDetallePedimentos">
                                                    <!--begin::Svg Icon -->
                                                    <span class="svg-icon svg-icon-3x">
                                                        <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                                    </span>
                                                    <!--end::Svg Icon-->
                                                </a>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group col-xs-12 col-sm-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.Pedimentos.Pedimento, new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.Pedimentos.Pedimento, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.Pedimentos.Pedimento, "", new { @class = "text-danger" })
                                            </div>

                                            <div class="clearfix"></div>

                                            <div class="col-xs-12">
                                                <div class="content-box">
                                                    <h3 class="content-box-header bg-default">
                                                        <i class="glyph-icon icon-inbox"></i>
                                                        Pedimentos Agregados
                                                        <span class="contadorPedimentos font-blue">

                                                        </span>
                                                    </h3>
                                                    <hr />
                                                    <div class="content-box-wrapper">
                                                        <div>
                                                            <div class="row" id="detallesPedimentos">
                                                                @if (Model.Pedimentoss != null)
                                                                {
                                                                    foreach (var pedimento in Model.Pedimentoss)
                                                                    {
                                                                        @Html.Partial("~/Views/ComplementosCartaPorte/Pedimentos.cshtml", pedimento)
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>

                                        </div>
                                        <div class="clearfix"></div>
                                    </div>

                                    @*  CHECKBOX GUIAS IDENTIFICACION*@
                                    <div class="form-group col-xs-12 col-sm-6 col-md-3">
                                        <div class="checkbox">
                                            <input type="checkbox" class="form-check-input addGIdentificacion" />
                                            <label class="form-label">Guia Identificación</label>
                                        </div>
                                    </div>

                                    <div class="clearfix"></div>
                                    <div class="card shadow-sm hiddenDiv GuiasIdentificacionForm">
                                        <div class="card-header">
                                            <h3 class="card-title">
                                                Agregar Guias de Identificación
                                            </h3>
                                            <div class="card-toolbar">
                                                <a href="#" class="icon-separator" id="agregarDetalleGIdentificacion">
                                                    <!--begin::Svg Icon -->
                                                    <span class="svg-icon svg-icon-3x">
                                                        <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                                    </span>
                                                    <!--end::Svg Icon-->
                                                </a>
                                            </div>
                                        </div>
                                        <div class="card-body row">
                                            <div class="form-group col-xs-12 col-sm-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.NumeroGuiaIdentificacion, new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.NumeroGuiaIdentificacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.NumeroGuiaIdentificacion, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.DescripGuiaIdentificacion, new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.DescripGuiaIdentificacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.DescripGuiaIdentificacion, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.PesoGuiaIdentificacion, new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.PesoGuiaIdentificacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.GuiasIdentificacion.PesoGuiaIdentificacion, "", new { @class = "text-danger" })
                                            </div>

                                            <div class="clearfix"></div>

                                            <div class="col-xs-12">
                                                <div class="content-box">
                                                    <h3 class="content-box-header bg-default">
                                                        <i class="glyph-icon icon-inbox"></i>
                                                        Guias de Identificación Agregadas
                                                        <span class="contadorGIdentificacion font-blue">

                                                        </span>
                                                    </h3>
                                                    <hr />
                                                    <div class="content-box-wrapper">
                                                        <div>
                                                            <div class="row" id="detallesGIdentificacion">
                                                                @if (Model.GuiasIdentificacioness != null)
                                                                {
                                                                    foreach (var GuiaIdentificacion in Model.GuiasIdentificacioness)
                                                                    {
                                                                        @Html.Partial("~/Views/ComplementosCartaPorte/GuiasIdentificacion.cshtml", GuiaIdentificacion)
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="clearfix"></div>

                                    @*  CHECKBOX CANTIDAD TRANSPORTADA     *@
                                    <div class="form-group col-xs-12 col-sm-6 col-md-3">
                                        <div class="checkbox">
                                            <input type="checkbox" class="form-check-input addCTransportada" />
                                            <label class="form-label">Cantidad Transportada</label>
                                        </div>
                                    </div>


                                    <div class="clearfix"></div>

                                    <div class="card shadow-sm hiddenDiv DivCantidadTransportada">
                                        <div class="card-header">
                                            <h3 class="card-title">
                                                Agregar Cantidad Transportada
                                            </h3>
                                            <div class="card-toolbar">
                                                <a href="#" class="icon-separator" id="agregarDetalleCTransportadas">
                                                    <!--begin::Svg Icon -->
                                                    <span class="svg-icon svg-icon-3x">
                                                        <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                                    </span>
                                                    <!--end::Svg Icon-->
                                                </a>
                                            </div>

                                        </div>
                                        <div class="card-body row">
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.CantidadTransportada.Cantidad, new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.CantidadTransportada.Cantidad, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.CantidadTransportada.Cantidad, "", new { @class = "text-danger" })
                                                <div id="CTCantidad" style="color:red;"></div>
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.CantidadTransportada.CveTransporte_Id, new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Mercancias.Mercancia.CantidadTransportada.CveTransporte_Id, (IEnumerable<SelectListItem>)ViewBag.ClavesTransporte, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.CantidadTransportada.CveTransporte_Id, "", new { @class = "text-danger" })
                                                <div id="CveTransporteId" style="color:red;"></div>
                                            </div>

                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDOrigen, new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDOrigen, new List<SelectListItem>(), "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDOrigen, "", new { @class = "text-danger" })
                                                <div id="UbicacionOrigenId" style="color:red;"></div>
                                            </div>

                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDDestino, new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDDestino, new List<SelectListItem>(), "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.CantidadTransportada.IDDestino, "", new { @class = "text-danger" })
                                                <div id="UbicacionDestinoId" style="color:red;"></div>
                                            </div>

                                            <div class="clearfix"></div>

                                            <div class="col-xs-12">
                                                <div class="content-box">
                                                    <h3 class="content-box-header bg-default">
                                                        <i class="glyph-icon icon-inbox"></i>
                                                        Cantidades Transportadas Agregadas
                                                        <span class="contadorCTransportadas font-blue">

                                                        </span>
                                                    </h3>
                                                    <hr />
                                                    <div class="content-box-wrapper">
                                                        <div>
                                                            <div class="row" id="detallesCTransportadas">
                                                                @if (Model.CantidadTransportadass != null)
                                                                {
                                                                    foreach (var CTransportadas in Model.CantidadTransportadass)
                                                                    {
                                                                        @Html.Partial("~/Views/ComplementosCartaPorte/CantidadTransportadas.cshtml", CTransportadas)
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>

                                    <div class="form-group col-xs-12 col-sm-6 col-md-3">
                                        <div class="checkbox">
                                            <input type="checkbox" class="form-check-input addDMercancia" />
                                            <label class="form-label">Detalle Mercancia</label>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>

                                    <div class="content-box-wrapper hiddenDiv DivDetalleMercancia">
                                        <h3 class="title-hero">
                                            Detalles Mercancía
                                        </h3>
                                        <div class="row">
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.DetalleMercancia.ClaveUnidadPeso_Id, htmlAttributes: new { @class = "form-label" })
                                                @Html.DropDownListFor(model => model.Mercancias.Mercancia.DetalleMercancia.ClaveUnidadPeso_Id, (IEnumerable<SelectListItem>)ViewBag.ClavesUnidadPeso, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DetalleMercancia.ClaveUnidadPeso_Id, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoBruto, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoBruto, new { htmlAttributes = new { @class = "form-control mb-2", @id = "pesoBruto" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoBruto, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoNeto, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoNeto, new { htmlAttributes = new { @class = "form-control mb-2", @id = "pesoNeto" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoNeto, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoTara, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoTara, new { htmlAttributes = new { @class = "form-control mb-2", @readonly = "readonly", @id = "pesoTara" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DetalleMercancia.PesoTara, "", new { @class = "text-danger" })
                                            </div>
                                            <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                                @Html.LabelFor(model => model.Mercancias.Mercancia.DetalleMercancia.NumPiezas, htmlAttributes: new { @class = "form-label" })
                                                @Html.EditorFor(model => model.Mercancias.Mercancia.DetalleMercancia.NumPiezas, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                                @Html.ValidationMessageFor(model => model.Mercancias.Mercancia.DetalleMercancia.NumPiezas, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>


                                    <div class="clearfix"></div>
                                    <br /><hr />
                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Mercancías Agregadas
                                                <span class="contadorMercancias font-blue">

                                                </span>
                                            </h3>
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesMercancias">
                                                        @if (Model.Mercanciass != null)
                                                        {
                                                            foreach (var mercancia in Model.Mercanciass)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/Mercancia.cshtml", mercancia)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 7-->
                <!--begin::Step 8-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="hiddenDiv" id="DivAutotransporte">
                            <h3 class="title-hero">
                                Autotransporte
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.TipoPermiso_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.AutoTransporte.TipoPermiso_Id, (IEnumerable<SelectListItem>)ViewBag.TipoPermiso_AT, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.TipoPermiso_Id, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.NumPermisoSCT, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.NumPermisoSCT, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.NumPermisoSCT, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <h3 class="title-hero">
                                Identificación Vehicular
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.ConfigAutotransporte_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.ConfigAutotransporte_Id, (IEnumerable<SelectListItem>)ViewBag.ConfigAutotransporte_Id, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.ConfigAutotransporte_Id, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.PlacaVM, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.PlacaVM, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.PlacaVM, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.AnioModeloVM, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.AnioModeloVM, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.IdentificacionVehicular.AnioModeloVM, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <h3 class="title-hero">
                                Seguros
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraRespCivil, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraRespCivil, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraRespCivil, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaRespCivil, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaRespCivil, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaRespCivil, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraMedAmbiente, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraMedAmbiente, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraMedAmbiente, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaMedAmbiente, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaMedAmbiente, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaMedAmbiente, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraCarga, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraCarga, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.AseguraCarga, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaCarga, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaCarga, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.PolizaCarga, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.AutoTransporte.Seguros.PrimaSeguro, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.AutoTransporte.Seguros.PrimaSeguro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Seguros.PrimaSeguro, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <h3 class="title-hero">
                                Remolques
                            </h3>

                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        Agregar Remolque
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleRemolqueAuTransp">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body row">
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Mercancias.AutoTransporte.Remolque.SubTipoRem_Id, htmlAttributes: new { @class = "form-label" })
                                        @Html.DropDownListFor(model => model.Mercancias.AutoTransporte.Remolque.SubTipoRem_Id, (IEnumerable<SelectListItem>)ViewBag.SubTipoRem_Id, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                        @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Remolque.SubTipoRem_Id, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                        @Html.LabelFor(model => model.Mercancias.AutoTransporte.Remolque.Placa, htmlAttributes: new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Mercancias.AutoTransporte.Remolque.Placa, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Mercancias.AutoTransporte.Remolque.Placa, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="clearfix"></div>

                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Remolques Agregados
                                                <span class="contadorRemolquesAuTransp font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesRemolqueAuTransp">
                                                        @if (Model.Remolques != null)
                                                        {
                                                            foreach (var remolque in Model.Remolques)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/Remolques.cshtml", remolque)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="hiddenDiv" id="TransporteMaritimo">
                            <h3 class="title-hero">
                                Transporte Maritimo
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.TipoPermiso_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.TipoPermiso_Id, (IEnumerable<SelectListItem>)ViewBag.TipoPermiso_M, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.TipoPermiso_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumPermisoSCT, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumPermisoSCT, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumPermisoSCT, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NombreAseg, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NombreAseg, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NombreAseg, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumPolizaSeguro, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumPolizaSeguro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumPolizaSeguro, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.ConfigMaritima_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.ConfigMaritima_Id, (IEnumerable<SelectListItem>)ViewBag.ConfigMaritima_Id, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.ConfigMaritima_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.Matricula, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.Matricula, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.Matricula, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumeroOMI, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumeroOMI, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumeroOMI, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.AnioEmbarcacion, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.AnioEmbarcacion, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.AnioEmbarcacion, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NombreEmbarc, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NombreEmbarc, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NombreEmbarc, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NacionalidadEmbarc, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.NacionalidadEmbarc, (IEnumerable<SelectListItem>)ViewBag.Paises, new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NacionalidadEmbarc, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.UnidadesDeArqBruto, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.UnidadesDeArqBruto, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.UnidadesDeArqBruto, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.ClaveTipoCarga_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.ClaveTipoCarga_Id, (IEnumerable<SelectListItem>)ViewBag.ClaveTipoCarga_Id, new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.ClaveTipoCarga_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumCerITC, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumCerITC, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumCerITC, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.Eslora, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.Eslora, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.Eslora, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.Manga, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.Manga, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.Manga, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.Calado, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.Calado, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.Calado, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.LineaNaviera, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.LineaNaviera, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.LineaNaviera, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NombreAgenteNaviero, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NombreAgenteNaviero, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NombreAgenteNaviero, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumAutorizacionNaviero_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.NumAutorizacionNaviero_Id, (IEnumerable<SelectListItem>)ViewBag.NumAutorizacionNaviero_Id, new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumAutorizacionNaviero_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumViaje, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumViaje, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumViaje, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.NumConocEmbarc, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.NumConocEmbarc, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.NumConocEmbarc, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>

                            <h3 class="title-hero">
                                Contenedor
                            </h3>
                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="glyph-icon icon-cog"></i>
                                        Agregar Contenedor
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleTMContenedor">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body row">
                                    <div class="form-group col-xs-12 col-sm-4">
                                        @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.MatriculaContenedor, new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.MatriculaContenedor, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.MatriculaContenedor, "", new { @class = "text-danger" })
                                        <div id="MatContenedor" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-4">
                                        @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.ContenedorMaritimo_Id, new { @class = "form-label" })
                                        @Html.DropDownListFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.ContenedorMaritimo_Id, (IEnumerable<SelectListItem>)ViewBag.ContenedorMaritimo_Id, new { @class = "form-select", @id = "contenedorMaritimo" })
                                        @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.ContenedorMaritimo_Id, "", new { @class = "text-danger" })
                                        <div id="ContenedorMaritId" style="color:red;"></div>
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-4">
                                        @Html.LabelFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.NumPrecinto, new { @class = "form-label" })
                                        @Html.EditorFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.NumPrecinto, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                        @Html.ValidationMessageFor(model => model.Mercancias.TransporteMaritimo.ContenedorM.NumPrecinto, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="clearfix"></div>

                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Contenedores Agregados
                                                <span class="contadorTMContenedor font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesTMContenedor">
                                                        @if (Model.ContenedoresM != null)
                                                        {
                                                            foreach (var contenedoresM in Model.ContenedoresM)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/ContenedoresM.cshtml", contenedoresM)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>

                        <div class="hiddenDiv" id="TransporteAereo">
                            <h3 class="title-hero">
                                Transporte Aéreo
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.TipoPermiso_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteAereo.TipoPermiso_Id, (IEnumerable<SelectListItem>)ViewBag.TipoPermiso_A, "Favor de hacer su selección", new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.TipoPermiso_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NumPermisoSCT, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NumPermisoSCT, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NumPermisoSCT, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.MatriculaAereonave, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.MatriculaAereonave, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.MatriculaAereonave, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NombreAseg, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NombreAseg, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NombreAseg, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NumPolizaSeguro, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NumPolizaSeguro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NumPolizaSeguro, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NumeroGuia, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NumeroGuia, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NumeroGuia, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.LugarContrato, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.LugarContrato, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.LugarContrato, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.RFCEmbarcador, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.RFCEmbarcador, new { htmlAttributes = new { @class = "form-control mb-2 rfc" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.RFCEmbarcador, "", new { @class = "text-danger" })
                                    <span id="Error_Mercancias_TransporteAereo_RFCEmbarcador" style="color:red;"></span>
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.CodigoTransporteAereo_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteAereo.CodigoTransporteAereo_Id, (IEnumerable<SelectListItem>)ViewBag.CodigoTransporteAereo_Id, new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.CodigoTransporteAereo_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NumRegIdTribEmbarc, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NumRegIdTribEmbarc, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NumRegIdTribEmbarc, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.ResidenciaFiscalEmbarc, htmlAttributes: new { @class = "form-label" })
                                    @Html.EnumDropDownListSpecialFor(model => model.Mercancias.TransporteAereo.ResidenciaFiscalEmbarc)
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.ResidenciaFiscalEmbarc, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteAereo.NombreEmbarcador, htmlAttributes: new { @class = "fotm-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteAereo.NombreEmbarcador, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteAereo.NombreEmbarcador, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>

                        <div class="hiddenDiv" id="TransporteFerroviario">
                            <h3 class="title-hero">
                                Transporte Ferroviario
                            </h3>
                            <div class="row">
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.TipoDeServicio_Id, htmlAttributes: new { @class = "form-label" })
                                    @Html.DropDownListFor(model => model.Mercancias.TransporteFerroviario.TipoDeServicio_Id, (IEnumerable<SelectListItem>)ViewBag.TipoDeServicio_Id, new { @class = "form-select mb-2" })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.TipoDeServicio_Id, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.TipoDeTrafico, htmlAttributes: new { @class = "form-label" })
                                    @Html.EnumDropDownListSpecialFor(model => model.Mercancias.TransporteFerroviario.TipoDeTrafico)
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.TipoDeTrafico, "", new { @class = "text-danger" })
                                </div>

                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.NombreAseg, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.NombreAseg, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.NombreAseg, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group col-xs-12 col-sm-6 col-md-4">
                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.NumPolizaSeguro, htmlAttributes: new { @class = "form-label" })
                                    @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.NumPolizaSeguro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.NumPolizaSeguro, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="clearfix"></div>

                            <h3 class="title-hero">
                                Derechos de Paso
                            </h3>
                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        Agregar Derechos de Paso
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleTFDPaso">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.TipoDerechoDePaso_Id, new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.TipoDerechoDePaso_Id, (IEnumerable<SelectListItem>)ViewBag.TipoDerechoPaso, new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.TipoDerechoDePaso_Id, "", new { @class = "text-danger" })
                                            <div id="TipoDerechosDePasoId" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.KilometrajePagado, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.KilometrajePagado, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.DerechosDePasos.KilometrajePagado, "", new { @class = "text-danger" })
                                            <div id="KilPagado" style="color:red;"></div>
                                        </div>
                                    </div>

                                    <div class="clearfix"></div>

                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Cantidades Derechos de Paso Agregados
                                                <span class="contadorTFDPaso font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesTFDPaso">
                                                        @if (Model.DerechosDePasoss != null)
                                                        {
                                                            foreach (var DerechosDePaso in Model.DerechosDePasoss)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/DerechosDePaso.cshtml", DerechosDePaso)
                                                            }
                                                        }

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="clearfix"></div>

                            <br />
                            <h3 class="title-hero">
                                Carro
                            </h3>
                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        <i class="glyph-icon icon-cog"></i>
                                        Agregar Carro
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleTFCarro">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.TipoCarro_Id, new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.Mercancias.TransporteFerroviario.Carro.TipoCarro_Id, (IEnumerable<SelectListItem>)ViewBag.TipoCarro_Id, new { @class = "form-select mb-2" })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.TipoCarro_Id, "", new { @class = "text-danger" })
                                            <div id="TFTipoCarroID" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.MatriculaCarro, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.Carro.MatriculaCarro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.MatriculaCarro, "", new { @class = "text-danger" })
                                            <div id="TFMatriculaCarro" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.GuiaCarro, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.Carro.GuiaCarro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.GuiaCarro, "", new { @class = "text-danger" })
                                            <div id="TFGuiaCarro" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.ToneladasNetasCarro, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.Carro.ToneladasNetasCarro, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.ToneladasNetasCarro, "", new { @class = "text-danger" })
                                            <div id="TFTNetasCarro" style="color:red;"></div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>


                                    <h3 class="title-hero">
                                        ContenedorC
                                    </h3>
                                    <div class="card shadow-sm">
                                        <div class="card-header">
                                            <h3 class="card-title">
                                                Agregar ContenedorC
                                            </h3>
                                            <div class="card-toolbar">
                                                <a href="#" class="icon-separator" id="agregarDetalleTFContenedor">
                                                    <!--begin::Svg Icon -->
                                                    <span class="svg-icon svg-icon-3x">
                                                        <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                                    </span>
                                                    <!--end::Svg Icon-->
                                                </a>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="form-group col-xs-12 col-sm-4">
                                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.Contenedor_Id, new { @class = "form-label" })
                                                    @Html.DropDownListFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.Contenedor_Id, (IEnumerable<SelectListItem>)ViewBag.Contenedor_Id, new { @class = "form-select mb-2", @Id = "contenedorTransFerr" })
                                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.Contenedor_Id, "", new { @class = "text-danger" })
                                                    <div id="MTFcontenedorId" style="color:red;"></div>
                                                </div>
                                                <div class="form-group col-xs-12 col-sm-4">
                                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoContenedorVacio, new { @class = "form-label" })
                                                    @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoContenedorVacio, new { htmlAttributes = new { @class = "form-control mb-2 " } })
                                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoContenedorVacio, "", new { @class = "text-danger" })
                                                    <div id="MTFPesoContenedorVacio" style="color:red;"></div>
                                                </div>
                                                <div class="form-group col-xs-12 col-sm-4">
                                                    @Html.LabelFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoNetoMercancia, new { @class = "form-label" })
                                                    @Html.EditorFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoNetoMercancia, new { htmlAttributes = new { @class = "form-control mb-2 " } })
                                                    @Html.ValidationMessageFor(model => model.Mercancias.TransporteFerroviario.Carro.ContenedorC.PesoNetoMercancia, "", new { @class = "text-danger" })
                                                    <div id="MTFPesoNetoMercancia" style="color:red;"></div>
                                                </div>
                                            </div>

                                            <div class="clearfix"></div>

                                            <div class="col-xs-12">
                                                <div class="content-box">
                                                    <h3 class="content-box-header bg-default">
                                                        <i class="glyph-icon icon-inbox"></i>
                                                        ContenedoresC Agregados
                                                        <span class="contadorTFContenedor font-blue">

                                                        </span>
                                                    </h3>
                                                    <hr />
                                                    <div class="content-box-wrapper">
                                                        <div>
                                                            <div class="row" id="detallesTFContenedor">
                                                                @if (Model.ContenedoresC != null)
                                                                {
                                                                    foreach (var ContenedoresC in Model.ContenedoresC)
                                                                    {
                                                                        @Html.Partial("~/Views/ComplementosCartaPorte/ContenedoresC.cshtml", ContenedoresC)
                                                                    }
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div><div class="clearfix"></div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <br />
                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Cantidades de Carros Agregados
                                                <span class="contadorTFCarro font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesTFCarro">
                                                        @if (Model.Carros != null)
                                                        {
                                                            foreach (var Carros in Model.Carros)
                                                            {
                                                                @Html.Partial("~/Views/ComplementosCartaPorte/Carro.cshtml", Carros)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>


                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="clearfix"></div>

                        </div>
                        <!---->
                    </div>
                    <!--end::Input group-->

                </div>
                <!--end::Step 8-->
                <!--begin::Step 9-->
                <div class="flex-column" data-kt-stepper-element="content">
                    <!--begin::Input group-->
                    <div class="fv-row mb-10">
                        <div class="row">
                            <div class="clearfix"></div>
                            <h3 class="title-hero">
                                Figura Transporte
                            </h3>
                            <div class="card shadow-sm">
                                <div class="card-header">
                                    <h3 class="card-title">
                                        Agregar Figura Transporte
                                    </h3>
                                    <div class="card-toolbar">
                                        <a href="#" class="icon-separator" id="agregarDetalleFTransporte">
                                            <!--begin::Svg Icon -->
                                            <span class="svg-icon svg-icon-3x">
                                                <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                            </span>
                                            <!--end::Svg Icon-->
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.TiposFigura.FiguraTransporte, new { @class = "form-label" })
                                            @Html.DropDownListFor(model => model.TiposFigura.FiguraTransporte, (IEnumerable<SelectListItem>)ViewBag.TipoFiguraTransporte, "Favor de hacer su selección", new { @class = "form-select mb-2", @id = "TipoFiguraTransporte" })
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.FiguraTransporte, "", new { @class = "text-danger" })
                                            <div id="TFFiguraTransporte" style="color:red;"></div>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.TiposFigura.RFCFigura, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.TiposFigura.RFCFigura, new { htmlAttributes = new { @class = "form-control mb-2 rfc" } })
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.RFCFigura, "", new { @class = "text-danger" })
                                            <span id="Error_TiposFigura_RFCFigura" style="color:red;"></span>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.TiposFigura.NumLicencia, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.TiposFigura.NumLicencia, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.NumLicencia, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            @Html.LabelFor(model => model.TiposFigura.NombreFigura, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.TiposFigura.NombreFigura, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.NombreFigura, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group col-xs-12 col-sm-4 hiddenDiv rfcExtranjero">
                                            @Html.LabelFor(model => model.TiposFigura.NumRegIdTribFigura, new { @class = "form-label" })
                                            @Html.EditorFor(model => model.TiposFigura.NumRegIdTribFigura, new { htmlAttributes = new { @class = "form-control mb-2" } })
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.NumRegIdTribFigura, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4 hiddenDiv rfcExtranjero">
                                            @Html.LabelFor(model => model.TiposFigura.ResidenciaFiscalFigura, new { @class = "form-label" })
                                            @Html.EnumDropDownListSpecialFor(model => model.TiposFigura.ResidenciaFiscalFigura)
                                            @Html.ValidationMessageFor(model => Model.TiposFigura.ResidenciaFiscalFigura, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <h3 class="title-hero">
                                        Figura Transporte: Domicilio
                                    </h3>

                                    @Html.Partial("~/Views/ComplementosCartaporte/FiguraTransporteDomicilio.cshtml", Model.TiposFigura.Domicilio, new ViewDataDictionary(ViewData) { TemplateInfo = new TemplateInfo { HtmlFieldPrefix = "TiposFigura.Domicilio" } })
                                    <div class="clearfix"></div>



                                    @*</div>*@

                                    <div class="row hiddenDiv" id="ActivaCampoPartesTransporte">
                                        <div class="clearfix"></div>
                                        <h3 class="title-hero">
                                            Partes Transporte
                                        </h3>
                                        <div class="card shadow-sm">
                                            <div class="card-header">
                                                <h3 class="card-title">
                                                    Agregar Partes Transporte
                                                </h3>
                                                <div class="card-toolbar">
                                                    <a href="#" class="icon-separator" id="agregarDetallePTransporte">
                                                        <!--begin::Svg Icon -->
                                                        <span class="svg-icon svg-icon-3x">
                                                            <img src="~/_CDN/assets/media/icons/duotune/general/gen041.svg" width="40" height="40" />
                                                        </span>
                                                        <!--end::Svg Icon-->

                                                    </a>
                                                </div>
                                            </div>
                                            <div class="card-body">

                                                <div class="form-group col-xs-12 col-sm-4">
                                                    @Html.LabelFor(model => model.TiposFigura.PartesTransporte.ParteTransporte, new { @class = "form-label" })
                                                    @Html.EnumDropDownListSpecialFor(model => model.TiposFigura.PartesTransporte.ParteTransporte)
                                                    @Html.ValidationMessageFor(model => model.TiposFigura.PartesTransporte.ParteTransporte, "", new { @class = "text-danger" })
                                                    <div id="FTPartesTransporte" style="color:red;"></div>
                                                </div>

                                                <div class="clearfix"></div>


                                                <div class="col-xs-12">
                                                    <div class="content-box">
                                                        <h3 class="content-box-header bg-default">
                                                            <i class="glyph-icon icon-inbox"></i>
                                                            Partes Transporte Agregadas
                                                            <span class="contadorPTransporte font-blue">

                                                            </span>
                                                        </h3>
                                                        <hr />
                                                        <div class="content-box-wrapper">
                                                            <div>
                                                                <div class="row" id="detallesPTransporte">
                                                                    @if (Model.TiposFigura.PartesTransportes != null)
                                                                    {

                                                                        foreach (var partesTransporte in Model.TiposFigura.PartesTransportes)
                                                                        {
                                                                            @Html.Partial("~/Views/ComplementosCartaPorte/PartesTransporte.cshtml", partesTransporte)
                                                                        }
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="col-xs-12">
                                        <div class="content-box">
                                            <h3 class="content-box-header bg-default">
                                                <i class="glyph-icon icon-inbox"></i>
                                                Figura Transporte Agregadas
                                                <span class="contadorFTransporte font-blue">

                                                </span>
                                            </h3>
                                            <hr />
                                            <div class="content-box-wrapper">
                                                <div>
                                                    <div class="row" id="detallesFTransporte">
                                                        @if (Model.FiguraTransporte != null)
                                                        {
                                                            foreach (var Tiposfigura in Model.FiguraTransporte)
                                                            {

                                                                @Html.Partial("~/Views/ComplementosCartaPorte/FiguraTransporte.cshtml", Tiposfigura)
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>


                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                    <!--end::Input group-->
                </div>
                <!--end::Step 9-->
                <!--begin::Actions-->
                <div class="d-flex flex-stack">
                    <!--begin::Wrapper-->
                    <div class="me-2">
                        <button type="button" class="btn btn-lg btn-light-primary me-3" data-kt-stepper-action="previous">
                            <!--begin::Svg Icon | path: icons/duotune/arrows/arr063.svg-->
                            <span class="svg-icon svg-icon-4 me-1">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"></rect>
                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"></path>
                                </svg>
                            </span>
                            <!--end::Svg Icon-->Back
                        </button>
                    </div>
                    <!--end::Wrapper-->
                    <!--begin::Wrapper-->
                    <div>
                        <!--begin::Button-->
                        <a href="@Url.Action("Index", ViewBag.Controller)" class="btn btn-light me-5">Cancelar</a>
                        <!--end::Button-->

                        <button type="submit" class="btn btn-lg btn-primary me-3" data-kt-stepper-action="submit">
                            <span class="indicator-label">
                                Guardar
                                <!--begin::Svg Icon | path: icons/duotune/arrows/arr064.svg-->
                                <span class="svg-icon svg-icon-3 ms-2 me-0">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"></rect>
                                        <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"></path>
                                    </svg>
                                </span>
                                <!--end::Svg Icon-->
                            </span>
                            <span class="indicator-progress">
                                Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>

                        <button type="button" class="btn btn-lg btn-primary" data-kt-stepper-action="next">
                            Continue
                            <!--begin::Svg Icon | path: icons/duotune/arrows/arr064.svg-->
                            <span class="svg-icon svg-icon-4 ms-1 me-0">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"></rect>
                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"></path>
                                </svg>
                            </span>
                            <!--end::Svg Icon-->
                        </button>
                    </div>
                    <!--end::Wrapper-->
                </div>
                <!--end::Actions-->

            </div>
            <!--end::Form-->
        </div>
    </div>
    <!--end::Stepper-->
    
}
<script>
    function removeDetalleUbicacion(elem) {
        var totalU = $(".ubicacion").length;
        if (totalU > 0) {
            var contador = $(".ubicacion").length - 1;
            $(".contadorUbicaciones").replaceWith('<span class="contadorUbicaciones font-blue">: ' + contador + '</span >');
        } else {
            $(".contadorUbicaciones").replaceWith('<span class="contadorUbicaciones font-blue">');
        }
        $(elem).parent().parent().parent().remove();
    }


    $("#tipoComprobante").change(function () {
        let divDatosComprobante = document.querySelector('#validaTipoComprobante');
        let divDatosImpuestos = document.querySelector('#activaImpuesto');
        if ($(this).val() === "T") {
            divDatosComprobante.style.visibility = 'hidden';
            divDatosComprobante.style.display = "none";
            divDatosImpuestos.style.visibility = 'hidden';
            divDatosImpuestos.style.display = "none";
            // $('#validaClaveTransporte').hide(200);
            $('#activaImpuesto').hide(200);

            //$('#claveTransporte').val("0.00");
            $('#subtotal').val("0.00");
            $('#total').val("0.00");
        } else {
            divDatosComprobante.style.display = "inline";
            divDatosComprobante.style.visibility = 'visible';
            divDatosImpuestos.style.display = "inline";
            divDatosImpuestos.style.visibility = 'visible';
            $('#validaClaveTransporte').show();
            //$('#activaImpuesto').show(200);
            $('#subtotal').val("0.00");
            $('#total').val("0.00");
        }
    });

    //activa div al load(cargar) la vista
    window.addEventListener('load', init, false);
    function init() {
        let divDatosComprobante = document.querySelector('#validaTipoComprobante');
        let divDatosImpuestos = document.querySelector('#activaImpuesto');
        let divDatosTransInter = document.querySelector('.divValidaTransInternc');
        divDatosComprobante.style.visibility = 'visible';
        divDatosImpuestos.style.visibility = 'visible';
        divDatosTransInter.style.visibility = 'hidden';

    }



    //Total de impuesto Trasladado y Retenido
    $('#TTasaOCuota').on("keyup", function () {
        if ($('#TTasaOCuota').val() > 0) {

            var TBase = parseFloat($('#TBase').val());
            var TTasaOCuota = parseFloat($('#TTasaOCuota').val());
            if ($('#TBase').val() === "") {
                TBase = 0;

            }
            if ($('#TTasaOCuota').val() === "") {
                TTasaOCuota = 0;
            }

            Total = TBase * TTasaOCuota;
            $('#TTotal').val(Total);
            $('#TImporte').val(Total);
        } else {
            $('#TTotal').val(0);
            $('#TImporte').val(0);
        }
    });

    $('#RTasaOCuota').on("keyup", function () {
        if ($('#RTasaOCuota').val() > 0) {
            var TBase = parseFloat($('#RBase').val());
            var TTasaOCuota = parseFloat($('#RTasaOCuota').val());
            if ($('#RBase').val() === "") {
                TBase = 0;

            }
            if ($('#RTasaOCuota').val() === "") {
                TTasaOCuota = 0;
            }

            Total = TBase * TTasaOCuota;
            $('#RTotal').val(Total);
            $('#RImporte').val(Total);
        } else {
            $('#RTotal').val(0);
            $('#RImporte').val(0);
        }
    });



</script>
